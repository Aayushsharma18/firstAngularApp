<div class="container">
    <h1 class="my-4">Angular Service Implementation</h1>
    <p>check service folder for service Implementation.</p>
    <div class="row">
        <div class="col-md-6">
            <div class="card p-4 shadow-sm">
                <div class="mb-3">
                    <label for="userid" class="form-label">UserId</label>
                    <input type="number" [(ngModel)]="comment.userId" class="form-control" id="userid">
                </div>
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" [(ngModel)]="comment.title" class="form-control" id="title">
                </div>
                <div class="mb-3">
                    <label for="body" class="form-label">Body</label>
                    <input type="text" [(ngModel)]="comment.body" class="form-control" id="body">
                </div>

                @if (comment.id == 0) {
                <!-- save service method call -->
                <button (click)="saveCommentWithService()" class="btn w-100 text-white"
                    style="background: linear-gradient(to right, #1e3c72, #2a5298);">
                    Add
                </button>
                } @else {
                <button (click)="updateComment()" class="btn btn-warning w-100 mb-2">Update</button>
                <button (click)="resetForm()" class="btn btn-secondary w-100">Cancel</button>
                }
            </div>
        </div>
    </div>

    <p class="mt-4">Total {{ count }} posts</p>
    <div class="row">
        @for (item of commentlist.slice(-10).reverse(); track $index) {
        <div class="col-sm-6 col-md-4 col-lg-3 mb-4">
            <div class="card h-100 shadow-sm">
                <img src="https://img.freepik.com/free-vector/black-new-post-doodle-typography-beige-background-vector_53876-177194.jpg?t=st=1753292633~exp=1753296233~hmac=9a243adf4d0567eb6f56616706ced75c9df92ac82c3a2d70d1c8114dbb257bc0"
                    class="card-img-top" alt="post-image" />
                <div class="card-body">
                    <h4>#{{ item.id }}</h4>
                    <h5 class="card-title text-truncate" title="{{ item.title }}">{{ item.title }}</h5>
                    <p class="card-text text-truncate" title="{{ item.body }}">{{ item.body }}</p>
                    <a class="btn btn-warning w-100 mb-2" (click)="editComment(item)">Edit</a>
                    <a class="btn btn-danger w-100 mb-2" (click)="deleteComment(item.id)">Remove</a>
                </div>
            </div>
        </div>
        }
    </div>
</div>