<div class="container">
    <div class="row">
        <div class="col-6"> <!--carlist-->
            <div class="card p-3">
                <i>Note: To run any POST API run the application on port:4209 "ng serve --port 4209"</i>
                <div>
                    <h4>Carlist</h4>
                    <button class="btn btn-success" (click)="getAllCars()">Load Cars</button>
                </div>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Srno</th>
                            <th>Brand</th>
                            <th>Model</th>
                            <th>Year</th>
                            <th>Color</th>
                            <th>DailyRate</th>
                            <th>RegNo</th>
                            <th>CarImage</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (item of carlist; track $index) {
                        <tr>
                            <td>{{$index +1}}</td>
                            <td>{{item.brand}}</td>
                            <td>{{item.model}}</td>
                            <td>{{item.year}}</td>
                            <td>{{item.color}} </td>
                            <td>{{item.dailyRate}}</td>
                            <td>{{item.regNo}}</td>
                            <td>{{item.carImage}}</td>
                            <td><button class="btn btn-success" (click)="editCar(item)">Edit</button></td>
                            <td><button class="btn btn-danger" (click)="deleteCar(item.carId)">Delete</button></td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-6"> <!--car form-->
            <div class="card p-3">
                <h4>Car form</h4>
                <div class="row">
                    <div class="col-6">
                        <div class="mb-3">
                            <label for="regno" class="form-label">Reg No</label>
                            <input type="text" [(ngModel)]="car.regNo" class="form-control" id="regno">
                        </div>
                        <div class="mb-3">
                            <label for="model" class="form-label">Model</label>
                            <input type="text" [(ngModel)]="car.model" class=" form-control" id="model">
                        </div>
                        <div class="mb-3">
                            <label for="color" class="form-label">Color</label>
                            <input type="text" [(ngModel)]="car.color" class="form-control" id="color">
                        </div>
                        <div class="mb-3">
                            <label for="carimage" class="form-label">CarImage</label>
                            <input type="text" [(ngModel)]="car.carImage" class="form-control" id="carimage">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-3">
                            <label for="brand" class="form-label">Brand</label>
                            <input type="text" [(ngModel)]="car.brand" class="form-control" id="brand">
                        </div>
                        <div class="mb-3">
                            <label for="year" class="form-label">Year</label>
                            <input type="text" [(ngModel)]="car.year" class="form-control" id="year">
                        </div>
                        <div class="mb-3">
                            <label for="dailyrate" class="form-label">DailyRate</label>
                            <input type="text" [(ngModel)]="car.dailyRate" class=" form-control" id="dailyrate">
                        </div>
                        <p> carId: {{car.carId}}</p>
                    </div>
                    <div class="">
                        <button class="btn btn-success m-3">Reset Form</button>
                        @if (car.carId == 0) {

                        <button class="btn btn-success m-3" (click)="saveCar()">Save Car</button>
                        }@else {

                        <button class="btn btn-warning m-3" (click)="updateCar()">Update Car</button>
                        }
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>